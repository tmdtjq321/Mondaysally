# Mondaysally

## ğŸ’­Idea
ë¨¼ë°ì´ìƒë¦¬ëŠ” ì‚¬ë‚´ ë³µì§€ ë¬¸í™” ê´€ë¦¬ ì„œë¹„ìŠ¤ App

## âœ¨Slogan
"ì¶œê·¼ì´ ì¦ê±°ì›Œ :)"

## ğŸ¯Target
ì Šì€ ì¸µ(20ëŒ€ ì¤‘í›„ë°˜ - 30ëŒ€ ì´ˆë°˜)ì´ ë§ì€ ìŠ¤íƒ€íŠ¸ì—… / ì¤‘ì†Œê¸°ì—…

## ğŸŒŸSystem
* ê¸°ì—…/ì§ì›ë“±ë¡ 
* ì¶œ/í‡´ê·¼
* ê¸°í”„íŠ¸ íˆìŠ¤í† ë¦¬
* ê¸°í”„íŠ¸ ìƒµ
* íŠ¸ìœ™í´
* ë§ˆì´í˜ì´ì§€

### REST API
REST APIì˜ ê¸°ë³¸ êµ¬ì„± ì›ë¦¬ë¥¼ ì¤€ìˆ˜í•˜ì—¬ ë¼ìš°íŒ…ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

### Process
- ë„ë©”ì¸ í´ë” êµ¬ì¡°
> Route - Controller - Provider/Service - DAO

- Route: Requestì—ì„œ ë³´ë‚¸ ë¼ìš°íŒ… ì²˜ë¦¬
- Controller: Requestë¥¼ ì²˜ë¦¬í•˜ê³  Response ë°˜í™˜. (Provider/Serviceì— ë„˜ê²¨ì£¼ê³  ë‹¤ì‹œ ë°›ì•„ì˜¨ ê²°ê³¼ê°’ì„ í˜•ì‹í™”), í˜•ì‹ì  Validation
- Provider: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬, ì˜ë¯¸ì  Validationê³¼ ì¡°íšŒ ê¸°ëŠ¥ ë¡œì§ ì²˜ë¦¬
- Service: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬, ì˜ë¯¸ì  Validation ìƒì„±/ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ë¡œì§ ì²˜ë¦¬
- DAO: Data Access Objectì˜ ì¤„ì„ë§. Queryê°€ ì‘ì„±ë˜ì–´ ìˆëŠ” ë¶€ë¶„ 

> `Request` -> Route -> Controller -> Service/Provider -> DAO -> DB -> DAO -> Service/Provider -> Controller -> Route -> `Response`

## âœ¨Structure
ì•ì— (*)ì´ ë¶™ì–´ìˆëŠ” íŒŒì¼(or í´ë”)ì€ ì¶”ê°€ì ì¸ ê³¼ì • ì´í›„ì— ìƒì„±ëœë‹¤.
```
â”œâ”€â”€ config                              # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ baseResponseStatus.js           # Response ì‹œì˜ Statusë“¤ì„ ëª¨ì•„ ë†“ì€ ê³³. 
â”‚   â”œâ”€â”€ database.js                     # ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ì„¤ì •
â”‚   â”œâ”€â”€ express.js                      # express Framework ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ jwtMiddleware.js                # jwt ê´€ë ¨ ë¯¸ë“¤ì›¨ì–´ íŒŒì¼
â”‚   â”œâ”€â”€ secret.js                       # ì„œë²„ key ê°’ë“¤ 
â”‚   â”œâ”€â”€ FCM.js                          # FCM ë©”ì‹œì§€ ì „ì†¡ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ FIREBASE_CREDENTIAL.json        # FCM ì¸ì¦ í‚¤ 
â”‚   â”œâ”€â”€ redis.js                        # redis ì ‘ì† ëª¨ë“ˆ
â”‚   â”œâ”€â”€ winston.js                      # logger ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •
â”œâ”€â”€ * log                               # ìƒì„±ëœ ë¡œê·¸ í´ë”
â”œâ”€â”€ * node_modules                    	# ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í´ë” (package.json ì˜ dependencies)
â”œâ”€â”€ src                     		        # ë©”ì¸ ë¡œì§
â”‚   â”œâ”€â”€ app                             # ì•±ì— ëŒ€í•œ ì½”ë“œ ì‘ì„±
â”‚ 	â”‚   â”œâ”€â”€ Clover                      # Clover ë„ë©”ì¸ í´ë”
â”‚ 	â”‚   â”œâ”€â”€ Common                      # Common ë„ë©”ì¸ í´ë”
â”‚ 	â”‚   â”œâ”€â”€ Gift                        # Gift ë„ë©”ì¸ í´ë”
â”‚ 	â”‚   â”œâ”€â”€ Home                        # Home ë„ë©”ì¸ í´ë”
â”‚ 	â”‚   â”œâ”€â”€ Twinkle                     # Twinkle ë„ë©”ì¸ í´ë”
â”‚ 	â”‚   â”œâ”€â”€ User                        # User ë„ë©”ì¸ í´ë”
â”‚ 	â”‚   â”œâ”€â”€ Work                        # Work ë„ë©”ì¸ í´ë”
â”œâ”€â”€ .gitignore                     		  # git ì— í¬í•¨ë˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ” í´ë”, íŒŒì¼ë“¤ì„ ì‘ì„± í•´ë†“ëŠ” ê³³
â”œâ”€â”€ index.js                            # í¬íŠ¸ ì„¤ì • ë° ì‹œì‘ íŒŒì¼    
â”œâ”€â”€ crontab.sh                          # ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ í™œìš©í•œ API í˜¸ì¶œ ê¸°ëŠ¥ íŒŒì¼
â”œâ”€â”€ * package-lock.json              	 
â”œâ”€â”€ package.json                        # í”„ë¡œê·¸ë¨ ì´ë¦„, ë²„ì „, í•„ìš”í•œ ëª¨ë“ˆ ë“± ë…¸ë“œ í”„ë¡œê·¸ë¨ì˜ ì •ë³´ë¥¼ ê¸°ìˆ 
â””â”€â”€ README.md
```

### Description
- `config`: í™˜ê²½ì„¤ì • ë° `src`ì—ì„œ í•„ìš”í•œ ê¸°ëŠ¥ì„ ëª¨ë“ˆí™”ì‹œì¼œ ì €ì¥í•œ ì˜ì—­ì…ë‹ˆë‹¤. express Framework ì„¤ì •, DB ë¡œê·¸ì¸ ì •ë³´, FCM ì¸ì¦ ì •ë³´, winston ë¡œê¹…, FCM ë©”ì‹œì§€ ì „ì†¡ ê¸°ëŠ¥, ì‘ë‹µë©”ì‹œì§€, redis ì ‘ì† ê¸°ëŠ¥ ë“±ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. 

- `src`: ë©”ì¸ ë¡œì§ìœ¼ë¡œ ê¸°ëŠ¥ë³„ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ë„ë©”ì¸ë“¤ì€ Route - Controller - Provider/Service - DAO êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
   * Clover: ì•± ë‚´ì—ì„œ í¬ì¸íŠ¸ë¡œ ì‚¬ìš©ë˜ëŠ” í´ë¡œë²„ ê¸°ëŠ¥
   * Common: í˜„ì¬ ì•±ì˜ ë²„ì „ì •ë³´ ì¡°íšŒ ë° firebase ë””ë°”ì´ìŠ¤ í† í° ì €ì¥
   * Gift: ê¸°í”„íŠ¸ ê´€ë ¨ ê¸°ëŠ¥
   * Home: í™ˆ í™”ë©´ ì¡°íšŒ
   * Twinkle: íŠ¸ìœ™í´ ê´€ë ¨ ê¸°ëŠ¥
   * User: ìœ ì € ì •ë³´ ê´€ë ¨ ê¸°ëŠ¥
   * Work: ì¶œ/í‡´ê·¼ ê´€ë ¨ ê¸°ëŠ¥

- `ê·¸ ì™¸`: crontab.sh ë¦¬ëˆ…ìŠ¤ ìŠ¤ì¼€ì¤„ëŸ¬ í¬ë¡ íƒ­ì„ ì‚¬ìš©í•œ ìë™í‡´ê·¼ API í˜¸ì¶œ

# Framework and Modules
### [Node.js](https://nodejs.org/ko/)
-  `node index.js` ë¥¼ í†µí•´ì„œ js íŒŒì¼ì„ ì‹¤í–‰í•œë‹¤.
-  nodeëŠ” js íŒŒì¼ì„ ì‹¤í–‰í•  ë•Œ `package.json` ì´ë¼ëŠ” íŒŒì¼ì„ í†µí•´ì„œ ì–´ë–¤ í™˜ê²½ìœ¼ë¡œ êµ¬ë™í•˜ëŠ”ì§€, ì–´ë–¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì¼ëŠ”ì§€(dependencies) ë“±ì˜ ê¸°ë³¸ì ì¸ ì„¤ì •ê°’ ë“¤ì„ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.
- `npm install` npm(node package manager)ì„ í†µí•´ package.jsonì— ìˆëŠ” dependencies ë“±ì„ ì°¸ê³ í•˜ì—¬ node_modules í´ë”ë¥¼ ìƒì„±í•˜ê³  ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í–ˆìŠµë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ ì‚¬ìš©í•˜ê³  ì‹¶ì€ íŒŒì¼ì—ì„œ require í•˜ì—¬ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

### [Express](https://expressjs.com/ko/)
config > express.js ì—ì„œ express í”„ë ˆì„ì›Œí¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ app ëª¨ë“ˆì„ export í•˜ë„ë¡ í•˜ì—¬ ì–´ëŠ í´ë”ì—ì„œë“  ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
`index.js`ì—ì„œ expressì—ì„œ ë§Œë“  appì´ 3000ë²ˆ í¬íŠ¸ë¥¼ Listen í•˜ë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.

### [mysql2](https://www.npmjs.com/package/mysql2)
DatabaseëŠ” config > database.jsì— mysql2 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ êµ¬ì„±í–ˆë‹¤. ìì„¸í•œ ì„¤ëª…ê³¼ ì¶”ê°€ì ì¸ ê¸°ëŠ¥ë“¤ì€ mysql2 ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê³µì‹ READMEë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.

### [winston](https://www.npmjs.com/package/winston)
LogëŠ” winston, winston-daily-rotate-file ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.

### [PM2](https://pm2.keymetrics.io/)
ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´ PM2ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ex) pm2 start index.js --watch --ignore-watch="config/* node_modules/*"

### [FCM](https://firebase.google.com/docs/cloud-messaging)
ì‚¬ìš©ìì—ê²Œ ë³´ë‚¼ ì•ŒëŒ ê¸°ëŠ¥ì„ ìœ„í•œ í•´ë‹¹ APIë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.

### [crontab](https://jdm.kr/blog/2)
ìŠ¤ì¼€ì¤„ëŸ¬ ê¸°ëŠ¥ì„ ìœ„í•´ í•´ë‹¹ ë¸”ë¡œê·¸ë¥¼ ì°¸ì¡°í•´ crontabì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

### [redis](https://redis.io/)
ìºì‹œ ì„œë²„ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ redisë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤.

